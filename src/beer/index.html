---
eleventyComputed:
  title: "{{ beer.title }}"
  description: "{{ beer.description }}"
  eleventyNavigation:
    key: "{{ beer.title }}"
    order: 3
---

<header>
  <h1>{{ title }}</h1>
  <p class="mb-8 italic">{{ description }}</p>
</header>

<h2>Recipes</h2>

<ul>
  {%- for recipe in beer.recipes -%}
    {% set pageUrl = page.url + 'recipes/' + recipe._id + '/' %}
    <li>
      <a href="{{ pageUrl }}">{{ recipe.name }}</a>
    </li>
  {%- endfor -%}
</ul>

<h2>Batch log</h2>

<table class="w-full">
  <thead>
    <tr class="text-left">
      <th class="p-2 pl-0">Name</th>
      <th class="p-2">Style</th>
      <th class="p-2 text-right"><abbr title="Alcohol by volume">ABV</abbr></th>
      <th class="p-2 text-right"><abbr title="International Bittering Units">IBU</abbr></th>
      <th class="p-2 text-right"><abbr title="European Brewery Convention">EBC</abbr></th>
      <th class="p-2 pr-0 text-right">Date</th>
    </tr>
  </thead>
  <tbody>
    {%- for brew in beer.brews -%}
      <tr class="border-t border-gray-400 dark:border-gray-700">
        <td class="p-2 pl-0">
          {{ brew.recipe.name }}
        </td>
        <td class="p-2 text-sm opacity-75">
          {{ brew.recipe.style.name }}
        </td>
        <td class="p-2 text-sm text-right opacity-75">
          {{ brew.measuredAbv | percentage }}
        </td>
        <td class="p-2 text-sm text-right opacity-75">
          {{ brew.estimatedIbu | round | formatBlank }}
        </td>
        <td class="p-2 text-sm text-right opacity-75">
          {{ brew.estimatedColor | round | formatBlank }}
        </td>
        <td class="p-2 pr-0 text-right">
          <time datetime="{{ brew.brewDate | date | machineDate }}" title="{{ brew.brewDate | date | humanDate }}" class="text-sm opacity-75">{{ brew.brewDate | date | shortDate }}</time>
        </td>
      </tr>
    {%- endfor -%}
  </tbody>
</table>
